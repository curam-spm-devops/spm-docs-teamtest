<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2022"><meta name="generator" content="DITA-OT"><title>Security</title><link rel="stylesheet" type="text/css" href="../../commonltr.css"><link rel="stylesheet" type="text/css" href="../../dita-ot-doc.css"></head><body id="security"><nav class="toc" role="navigation"><ul><li><a href="../../spm_welcome.html">IBM Cúram Social Program Management  8.0.0, 8.0.1, and 8.0.2</a></li><li><a href="../../spm_transition.html">Documentation updates from July 1 2022</a></li><li><a href="../../spm_prod_overview_toc.html">Product Overview</a></li><li><a href="../../glossary/glossary.html">Glossary</a></li><li><a href="../../common/ctr_deploying.html">Deploying Social Program Management</a><ul></ul></li><li><a href="../../GraphQL/summary_graphql.html">GraphQL</a></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1"><h1 class="title topictitle1" id="ariaid-title1">Security</h1><div class="body"><p class="p">When you access any GraphQL API in Social Program Management, you must be an authenticated user with valid authorization permissions for the relevant facade methods.</p></div><article class="topic nested1" aria-labelledby="ariaid-title2" id="authentication"><h2 class="title topictitle2" id="ariaid-title2">Authentication</h2><div class="body"><p class="p">Before you can make any GraphQL queries, you must authenticate with the Social Program Management application. For more information about authentication, see <a class="xref" href="../MSDK/msdk_ctr_security.html">Cúram REST API security</a>.</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title3" id="authorization"><h2 class="title topictitle2" id="ariaid-title3">Authorization</h2><div class="body"><p class="p">To access the API resource, authenticated users require sufficient authorization permissions. For users without permission, an error is returned in the query response body. Permissions are given to the underlying facades of a GraphQL API by using security identifiers (SIDs).</p><p class="p">To better secure what authenticated users can access, remove SIDs from the database for any unused GraphQL API facade methods.</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title4" id="cross-origin-request-forgery-cors"><h2 class="title topictitle2" id="ariaid-title4">Cross Origin Request Forgery (CORS)</h2><div class="body"><p class="p">For security reasons, browsers restrict cross-origin HTTP requests that are initiated in a web application where the web application is hosted on a different server and port to the one where the GraphQL APIs are hosted.</p><p class="p">However, the browser allows the HTTP request to proceed where, after it sends an initial OPTIONS request, the response from the server contains certain response headers that indicate to the browser that the request is allowed.</p><p class="p">The REST infrastructure adds the response headers to an OPTIONS request from a browser where the domain that is set by the browser in the <code class="ph codeph">origin</code> request header matches an allowlist of domains that are set in the <code class="ph codeph">curam.rest.allowedOrigins</code> property.</p><p class="p">For more information about the <code class="ph codeph">curam.rest.allowedOrigins</code> property, see <a class="xref" href="../MSDK/r_custom_rest_properties.html">Cúram REST configuration properties</a>.</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title5" id="cross-site-request-forgery-csrf"><h2 class="title topictitle2" id="ariaid-title5">Cross Site Request Forgery (CSRF)</h2><div class="body"><p class="p">Cross Site Request Forgery (CSRF) applies only where the GraphQL query comes from a web application. The first line of defense against CSRF is the referer header. The value for the referer header that is sent in the request is set by the browser. The value cannot
be modified by JavaScript code. The value includes the domain of the server that the web application is hosted on.</p><p class="p">A check is performed to ensure that the domain sent in the referer header matches an allowlist of domains that is set in the <code class="ph codeph">curam.rest.refererDomains</code> property.</p><p class="p">For any applications that are not web-based or for system-to-system communication, CSRF is not a factor. The referer header validation check  passes where the value matches the scheme name of <code class="ph codeph">curam://</code>. For example <code class="ph codeph">curam://&lt;name&gt;</code>, where <code class="ph codeph">&lt;name&gt;</code> can be any
string name.</p><p class="p">The REST infrastructure also optionally supports token-based protection as a second line of defense. For more information, see <a class="xref" href="../MSDK/msdk_c_CSRF.html">Cross-Site Request Forgery (CSRF) protection for RESTful web services</a>.</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title6" id="extra-response-headers"><h2 class="title topictitle2" id="ariaid-title6">Extra response headers</h2><div class="body"><p class="p">The following list outlines the response headers and values that are included in every response from a GraphQL request:</p><ul class="ul"><li class="li"><p class="p">X-XSS-PROTECTION=1; mode=block</p></li><li class="li"><p class="p">X-FRAME-OPTIONS=deny</p></li><li class="li"><p class="p">X-CONTENT-TYPE-OPTIONS=nosniff</p></li></ul><p class="p">The headers are used to combat cross-site scripting, click-jacking, and mime-type sniffing attacks.</p></div></article></article></main></body></html>