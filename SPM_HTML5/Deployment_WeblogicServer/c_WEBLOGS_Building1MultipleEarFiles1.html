<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us"><head><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2022"><meta name="generator" content="DITA-OT"><title>Multiple EAR files</title><link rel="stylesheet" type="text/css" href="../commonltr.css"><link rel="stylesheet" type="text/css" href="../dita-ot-doc.css"></head><body id="d1e426"><nav class="toc" role="navigation"><ul><li><a href="../Deployment_WeblogicServer/ctr_CuramDeploymentGuideForWeblogicServer.html">Deploying on Oracle WebLogic Server</a><ul><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Building1BuildingEarFiles1.html">Building EAR files</a><ul><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Building1EnterpriseApplication1.html">The Enterprise Application</a><ul><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Building1BuildingApplicationEarFile1.html">Building the Application.ear File</a></li><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Building1UnderHood1.html">Under the Hood</a></li><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Building1ContentsApplicationEarFile1.html">Contents of the application.ear file</a></li></ul></li><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Building1WebServicesApplication1.html">The Web Services Application</a><ul><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Building1BuildingWebServicesEarFile1.html">Building the Web Services.ear File</a></li><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Building1UnderHood2.html">Under the Hood</a></li><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Building1ContentsWebServicesEarFile1.html">Contents of Web Services.ear File</a></li><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Building1WebServiceWsdl1.html">Web Service WSDL</a></li></ul></li><li class="active"><a href="../Deployment_WeblogicServer/c_WEBLOGS_Building1MultipleEarFiles1.html">Multiple EAR files</a></li></ul></li><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Configuration2ApplicationServerConfiguration1.html">Application server configuration</a><ul><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Configuration2WeblogicServerConfiguration1.html">WebLogic Server configuration</a><ul><li><a href="../Deployment_WeblogicServer/t_WEBLOGS_configweblogicplugin.html">Configuring a web server plug-in in Oracle WebLogic Server</a></li></ul></li><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Configuration2SecurityConfiguration1.html">Security configuration for Oracle WebLogic Server</a></li><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Configuration2TimeZoneConfiguration1.html">Time Zone Configuration</a></li><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Configuration2StartingStoppingWeblogicServers1.html">Starting and Stopping WebLogic Servers</a><ul><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Configuration2StartWeblogicServer1.html">Start a WebLogic Server</a></li><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Configuration2StopWeblogicServer1.html">Stop a WebLogic Server</a></li><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Configuration2RestartWeblogicServer1.html">Restart a WebLogic Server</a></li><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Configuration2ServerLogging1.html">Server Logging</a></li></ul></li></ul></li><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Deployment1Deployment1.html">Deployment</a><ul><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Deployment1Deployment2.html">Deployment</a><ul><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Deployment1DeployApplication1.html">Deploy an Application</a></li><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Deployment1ChangeSystemUsername1.html">Change SYSTEM Username</a></li><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Deployment1UndeployApplication1.html">Undeploy an Application</a></li></ul></li><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Deployment1PrecompilingJsps1.html">Pre-compiling JSPs</a></li><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Deployment1TestingDeployment1.html">Testing Deployment</a></li></ul></li><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Configuration1ManualWeblogicServerConfiguration1.html">Manual WebLogic Server configuration</a><ul><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Configuration1CreatingWeblogicServerDomain1.html">Creating a WebLogic Server Domain</a><ul><li><a href="../Deployment_WeblogicServer/t_WEBLOGS_Configuration1DomainConfiguration1.html">Domain Configuration</a></li></ul></li><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Configuration1JavaVirtualMachineConfiguration1.html">Java Virtual Machine Configuration</a></li><li><a href="../Deployment_WeblogicServer/c_WEBLOGS_Configuration1SetUpDatabaseDriver1.html">Set up Database Driver</a></li><li><a href="../Deployment_WeblogicServer/t_WEBLOGS_Configuration1StartingWeblogicAdministrationServi1.html">Starting the WebLogic Administration Service</a></li><li><a href="../Deployment_WeblogicServer/t_WEBLOGS_Configuration1DatabaseConfiguration1.html">Database Configuration</a></li><li><a href="../Deployment_WeblogicServer/t_WEBLOGS_Configuration1SetupSecurity1.html">Setup Security</a></li><li><a href="../Deployment_WeblogicServer/t_WEBLOGS_Configuration1SetupTransportLayerSecurity1.html">Setup Transport Layer Security</a></li><li><a href="../Deployment_WeblogicServer/t_WEBLOGS_Configuration1SetupJms1.html">Setup JMS</a></li><li><a href="../Deployment_WeblogicServer/t_WEBLOGS_Configuration1QueueSetup1.html">Queue Setup</a></li><li><a href="../Deployment_WeblogicServer/t_WEBLOGS_Configuration1QueueConnectionFactorySetup1.html">Queue Connection Factory Setup</a></li><li><a href="../Deployment_WeblogicServer/t_WEBLOGS_Configuration1TopicSetup1.html">Topic Setup</a></li><li><a href="../Deployment_WeblogicServer/t_WEBLOGS_Configuration1TopicConnectionFactorySetup1.html">Topic Connection Factory Setup</a></li><li><a href="../Deployment_WeblogicServer/t_WEBLOGS_Configuration1ManualDeployment1.html">Manual Deployment</a></li></ul></li></ul></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1">
<h1 class="title topictitle1" id="ariaid-title1">Multiple EAR files</h1><div class="body conbody">
<p class="p">Building an application EAR also takes an optional file to allow for splitting the client components into different WAR and EAR files and also to allow for some more control of some of the EAR configuration and included modules. This file is named <span class="ph filepath">deployment_packaging.xml</span> and should be placed in your <span class="ph filepath">SERVER_DIR/project/config</span> directory.</p>
<p class="p">The format of the <span class="ph filepath">deployment_packaging.xml</span> file is as follows:</p><figure class="fig fignone"><figcaption><span class="fig--title-label">Figure 1. </span>deployment_packaging.xml Sample</figcaption>

<pre class="pre">&lt;deployment-config&gt;
  &lt;ear name="Curam"
      requireServer="true"&gt;
    &lt;components&gt;custom,sample,SamplePublicAccess,core&lt;/components&gt;
    &lt;context-root&gt;/Curam&lt;/context-root&gt;
  &lt;/ear&gt;
  &lt;ear name="CuramExternal"&gt;
    &lt;components&gt;SamplePublicAccessExternal&lt;/components&gt;
    &lt;context-root&gt;/CuramExternal&lt;/context-root&gt;
    &lt;custom-web-xml&gt;${client.dir}/custom_web_xml&lt;/custom-web-xml&gt;
  &lt;/ear&gt;
&lt;/deployment-config&gt;</pre></figure>
<p class="p">Each file can have multiple &lt;ear&gt; elements and results in an EAR file being produced in the <span class="ph filepath">SERVER_DIR/build/ear/WLS</span> directory. The options for each element are:</p>
<ul class="ul">
<li class="li"><span class="keyword option">name</span>
<p class="p">This option controls the name of the EAR created from the process.</p></li>
<li class="li"><span class="keyword option">requireServer</span>
<p class="p">This optional attribute controls whether the server module is included in the EAR file. Valid entries are <span class="ph tt" style="font-family: monospace">true</span> or <span class="ph tt" style="font-family: monospace">false</span>.  The default value is <span class="ph tt" style="font-family: monospace">false</span>. If deploying multiple EAR files to one application server, this attribute must be set to <span class="ph tt" style="font-family: monospace">true</span> for only one EAR file as only one <span class="keyword">IBM Cúram Social Program
                                        Management</span> server module should be deployed per cluster. If <span class="ph tt" style="font-family: monospace">requireServer</span> is set to <span class="ph tt" style="font-family: monospace">true</span> for multiple EAR files, then the other EAR files must be deployed in another cluster to avoid conflicts.</p></li>
<li class="li"><span class="keyword option">components</span>
<p class="p">This option controls which of the client components get placed into the EAR file. It also controls the component order for the rebuild of the client that will need to take place. Usually the core directory doesn't form part of the component order but on this occasion it is important to add this to qualify whether it should be included in a particular WAR file. Entries here should follow the typical order of components defined in the <cite class="cite">Cúram Server Developer's Guide</cite> and should be comma separated.</p></li>
<li class="li"><span class="keyword option">context-root</span>
<p class="p">This option forms the Context Root of the WAR module in the <span class="ph filepath">application.xml</span> deployment descriptor. Entries here should begin with a forward-slash.</p></li>
<li class="li"><span class="keyword option">custom-web-xml</span>
<p class="p">This optional element controls whether a custom <span class="ph filepath">web.xml</span> file should overwrite the standard version in the WAR file. Entries here should be an Apache Ant path to the directory containing the <span class="ph filepath">web.xml</span> file.</p>
<p class="p">It is possible to use references to environment variables as part of this path. For example, <span class="ph tt" style="font-family: monospace">${client.dir}</span> can be used to point to the web client directory and <span class="ph tt" style="font-family: monospace">${SERVER_DIR}</span> can be used to point to the server directory.</p></li>
<li class="li"><span class="keyword option">requireSearchServer</span>
<p class="p">See <cite class="cite">Cúram Generic Search Server</cite> for more information.</p></li></ul>
<p class="p">For each web client (i.e., WAR file) a separate web client component is required to contain its customizations.  In the case of multiple web clients, your CLIENT_COMPONENT_ORDER environment variable will include all your custom components; but, separate &lt;ear&gt; elements will be required, one for each custom web component (and other components as needed).</p>
<p class="p">As with the standard target, a fully built application must be available. For details on how to build an application, please refer to the <cite class="cite">Cúram Server Developer's Guide</cite>.</p></div><nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../Deployment_WeblogicServer/c_WEBLOGS_Building1BuildingEarFiles1.html" title="The main step before deployment of an IBM Cúram Social Program Management application is to package it into enterprise archive (.ear) files. The application (web client, server) and web services application are all packaged into separate .ear files.">Building EAR files</a></div></div></nav></article></main></body></html>