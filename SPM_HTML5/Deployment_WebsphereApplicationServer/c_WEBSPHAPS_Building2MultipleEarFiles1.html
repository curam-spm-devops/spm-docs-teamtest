<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us"><head><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2022"><meta name="generator" content="DITA-OT"><meta name="description" content="Building an Application EAR also takes an optional file to allow you to split the client components into different WAR and EAR files and also to allow control of some of the EAR configuration and included modules."><title>Multiple EAR files</title><link rel="stylesheet" type="text/css" href="../commonltr.css"><link rel="stylesheet" type="text/css" href="../dita-ot-doc.css"></head><body id="d1e453"><nav class="toc" role="navigation"><ul><li><a href="../Deployment_WebsphereApplicationServer/ctr_CuramDeploymentGuideForWebsphereApplicationServer.html">Deploying on IBM  WebSphere Application Server</a><ul><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Building2BuildingEarFiles1.html">Building EAR files</a><ul><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Building2EnterpriseApplication1.html">The enterprise application EAR file</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Building2WebServicesApplication1.html">The web services application</a><ul><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Building2BuildingWebServicesEarFile1.html">Building the web services EAR file</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Building2ContentsWebServicesEarFile1.html">Contents of web services EAR file</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Building2WebServiceWsdl1.html">Web service WSDL</a></li></ul></li><li class="active"><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Building2MultipleEarFiles1.html">Multiple EAR files</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Building2AlternativeTargets1.html">Alternative targets</a></li></ul></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration4WebsphereApplicationServerConfigura1.html">Configuring WebSphere Application Server</a><ul><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_configwebsvrplugin.html">Configuring a web server plug-in</a></li></ul></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration4SecurityConfiguration1.html">Configuring security</a><ul><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration4SpecialConfigurationStepsWhenUsingI1.html">Configuring identity only and LDAP</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration4WebsphereApplicationServerUserRegis1.html">User registry</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration4LoggingAuthenticationProcess1.html">Logging the authentication process</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration4EstablishingAlternateExcludeUsernam1.html">Establishing an alternate exclude username delimiter</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration4WebsphereApplicationServerCachingBe1.html">WebSphere Application Server caching behavior</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration4SecurityCustomProperties1.html">Security custom properties</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration4SecurityHardeningMeasures1.html">Security hardening measures</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration4SecurityCryptography.html">Cryptography</a></li></ul></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration4StartingStoppingWebsphereServers1.html">Starting, stopping, and restarting IBM  WebSphere Application Server</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Deployment2Deployment2.html">Deploying an application</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Deployment2PrecompilingJsps1.html">Pre-compiling JSPs</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Deployment2TestingDeployment1.html">Testing the deployment</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration3ManualWebsphereApplicationServerCon2.html">Manual WebSphere Application Server configuration</a><ul><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration3AdministrativeConsole1.html">The administrative console</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration3ScriptingSupport1.html">Scripting support</a></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3CreatingDataSourceLoginAlias1.html">Creating the data source login alias</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration3ConfigureDbDataSources1.html">Configure Db2 data sources</a><ul><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3SetUpDbEnvironmentVariable1.html">Configure the Db2 environment variable</a></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3SetUpDatabaseDriverProvider1.html">Configure the database driver provider</a></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3SetUpDatabaseDriverDatasource1.html">Configure the database driver data source</a></li></ul></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration3ConfigureOracleDataSource1.html">Configure an Oracle Database data source</a><ul><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3SetUpOracleEnvironmentVariable1.html">Configure the Oracle environment variable</a></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3SetupXaDatabaseDriver1.html">Configure the XA database driver</a></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3SetupNonxaDatabaseDriver1.html">Configure the non-XA database driver</a></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3SetUpXaDatabaseDriverDatasources1.html">Configure the XA database driver data sources</a></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3SetUpNonxaDatabaseDriverDatasource1.html">Configure the non-XA database driver data source</a></li></ul></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration3SaveMasterConfiguration1.html">Save the master configuration</a></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3ConfigureAdministrationSecurity1.html">Configure administration security</a></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3ConfigureTransportLayerSecurity1.html">Configure transport layer security</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration3RestartApplicationServer1.html">Restart the application server</a></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3ConfigureUsers1.html">Add users to the user registry</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration3SetUpSystemJaasLoginModule1.html">Set up the system JAAS login module</a><ul><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3AddLoginModule1.html">Add the login module</a></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3ReorderLoginModule1.html">Reorder the login module</a></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3DisableCrossClusterAuthentication1.html">Disable cross-cluster authentication</a></li></ul></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration3ServerConfiguration1.html">Configuring the server</a><ul><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3ConfigureYourJndiLookupPort1.html">Configure the JNDI lookup port</a></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3ConfigureYourOrbPassByReference1.html">Configure the ORB pass by reference</a></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3ConfigureYourJavaVirtualMachine1.html">Configure the Java Virtual Machine</a></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3ConfigureYourTimerService1.html">Configure the timer service</a></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3SetUpPortAccess1.html">Configure the port access</a></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3ConfigureSessionSecurityIntegration1.html">Configure session security integration</a></li></ul></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3SetupServiceIntegrationBus1.html">Configure the Service Integration Bus</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration3JmsConfiguration1.html">Configuring JMS</a><ul><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3SetupJmsConnectionFactories1.html">Configure the JMS connection factories</a></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3SetupRequiredQueues1.html">Configure the required queues</a></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3SetupRequiredTopics1.html">Configure the required topics</a></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3SetupRequiredQueueActivationSpecifi1.html">Configure the required queue activation specifications</a></li><li><a href="../Deployment_WebsphereApplicationServer/t_WEBSPHAPS_Configuration3SetupRequiredTopicActivationSpecifi1.html">Configure the required topic activation specifications</a></li></ul></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration3ConfigureHistoricalLogFiles1.html">Configure historical log files</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration3PostConfiguration1.html">Post configuration tasks</a></li></ul></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration3ManualApplicationDeployment1.html">Application deployment</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration3WebsphereNetworkDeployment1.html">Network deployment</a><ul><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration3CreatingProfiles1.html">Creating profiles</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration3FederatingNode1.html">Federating a node</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration3ConfigurationNode1.html">Configuring a node</a></li><li><a href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Configuration3DeployingOnNode1.html">Deploying on the Node</a></li></ul></li></ul></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1">
<h1 class="title topictitle1" id="ariaid-title1">Multiple EAR files</h1>


<div class="body conbody"><p class="shortdesc">Building an Application EAR also takes an optional file to allow you to split the client
components into different WAR and EAR files and also to allow control of some of the EAR
configuration and included modules. </p>
<p class="p">The optional file is named <span class="ph filepath">deployment_packaging.xml</span> and should be placed in
your <span class="ph filepath">SERVER_DIR/project/config</span> directory.</p>
<p class="p">The format of the <span class="ph filepath">deployment_packaging.xml</span> file is as follows: </p>
<pre class="pre codeblock"><code>&lt;deployment-config&gt;
  &lt;ear name="Curam"
      requireServer="true"&gt;
    &lt;components&gt;custom,sample,SamplePublicAccess,core&lt;/components&gt;
    &lt;context-root&gt;/Curam&lt;/context-root&gt;
  &lt;/ear&gt;
  &lt;ear name="CuramExternal"&gt;
    &lt;components&gt;SamplePublicAccessExternal&lt;/components&gt;
    &lt;context-root&gt;/CuramExternal&lt;/context-root&gt;
    &lt;custom-web-xml&gt;${client.dir}/custom_web_xml&lt;/custom-web-xml&gt;
  &lt;/ear&gt;
&lt;/deployment-config&gt;</code></pre>
<p class="p">Each file can have multiple <span class="ph tt" style="font-family: monospace">ear</span> elements and results in an EAR file being produced in
the <span class="ph filepath">SERVER_DIR/build/ear/WAS</span> directory. The options for each element are:</p>
<ul class="ul">
<li class="li"><span class="keyword option">name</span>
<p class="p">This option controls the name of the EAR created from the process.</p></li>
<li class="li"><span class="keyword option">requireServer</span>
<p class="p">This optional attribute controls whether the server module is included in the EAR file. Valid
entries are <span class="ph tt" style="font-family: monospace">true</span> or <span class="ph tt" style="font-family: monospace">false</span>. The default value is <span class="ph tt" style="font-family: monospace">false</span>. If deploying
multiple EAR files to one application server, this attribute must be set to <span class="ph tt" style="font-family: monospace">true</span> for only
one EAR file as only one <span class="keyword">IBM Cúram Social Program
                                        Management</span> server
module should be deployed per cluster. If <span class="ph tt" style="font-family: monospace">requireServer</span> is set to <span class="ph tt" style="font-family: monospace">true</span> for
multiple EAR files, then the other EAR files must be deployed in another cluster to avoid
conflicts.</p></li>
<li class="li"><span class="keyword option">components</span>
<p class="p">This option controls which of the client components get placed into the EAR file. It also
controls the component order for the rebuild of the client that will need to take place. Usually the
core directory doesn't form part of the component order but on this occasion it is important to add
this to qualify whether it should be included in a particular WAR file. Entries here should follow
the typical order of components defined in the <cite class="cite">Cúram Server Developer's Guide</cite> and
should be comma separated.</p></li>
<li class="li"><span class="keyword option">context-root</span>
<p class="p">This option forms the Context Root of the WAR module in the <span class="ph filepath">application.xml</span>
deployment descriptor. Entries here should begin with a forward-slash.</p></li>
<li class="li"><span class="keyword option">custom-web-xml</span>
<p class="p">This optional element controls whether a custom <span class="ph filepath">web.xml</span> file should
overwrite the standard version in the WAR file. Entries here should be an Apache Ant path to the
directory containing the <span class="ph filepath">web.xml</span> file.</p>
<p class="p">You can use references to environment variables as part of this path. For example,
<span class="ph tt" style="font-family: monospace">${client.dir}</span> can be used to point to the web client directory and <span class="ph tt" style="font-family: monospace">${SERVER_DIR}</span>
can be used to point to the server directory.</p></li>
<li class="li"><span class="keyword option">requireSearchServer</span>
<p class="p">See <cite class="cite">Cúram Generic Search Server</cite> for more information.</p></li>
</ul>
<p class="p">For each web client (WAR file) a separate web client component is required to contain its
customizations. In the case of multiple web clients, your CLIENT_COMPONENT_ORDER environment
variable will include all your custom components; but, separate &lt;ear&gt; elements will be
required, one for each custom web component (and other components as needed).</p>
<p class="p">As with the standard target, a fully built <span class="keyword">IBM Cúram Social Program
                                        Management</span> application must be available. For details
on how to build an application, see the <cite class="cite">Cúram Server Developer's Guide</cite>.</p>
</div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../Deployment_WebsphereApplicationServer/c_WEBSPHAPS_Building2BuildingEarFiles1.html" title="Package IBM Cúram Social Program Management into EAR (Enterprise ARchive) files.">Building EAR files</a></div></div></nav></article></main></body></html>